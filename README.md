# AC&T HPC Cluster

# ansible playbooks

## Set up

*   Install ansible: `apt install ansible`

    *   To run the `mariadb` role, a plugin is required: `ansible-galaxy collection install community.mysql`

*   Git-clone this repo on `/root`

*   Make sure that the root account can ssh into all nodes using its ssh key, so no password will
    be entered. This can be tested by: <code>ansible <i>cluster</i> -m ping</code>, where <code><i>cluster</i></code> is
    the name of the cluster, e.g. apollo, hades.

*   We structure the jobs here by playbooks and roles. A playbook can include multiple roles. The roles are defined in the `roles/` directory. The playbooks are the `*.yml` files in this directory.
    * To run a playbook: <code>ansible-playbook <i>playbook</i>.yml</code>
    * To run a role: <code>ansible hades -m include_role -a name=<i>role</i></code>

## Where are the stuff?

Note: the role x means that the item is not managed by any roles

The table is generated by writing `# manages: ` comments in the role files and running `update-table`.

<!--begin autogenerated table-->
| Item | Role | apollo | hades |
|---|---|---|---|
<!--end autogenerated table-->
